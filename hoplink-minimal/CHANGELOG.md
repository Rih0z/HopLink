# Changelog

## [1.7.0] - 2025-01-09

### 追加
- ビアスタイル優先度システム（IPA、スタウト等を高優先度に設定）
- キーワード多様化機能（4つの広告すべてで異なる検索ワード）
- プラットフォーム別キーワード最適化（楽天・Amazon専用変換）
- インテリジェントフォールバック検索システム

### 変更
- 「ビール」等の一般ワードの優先度を低く設定
- ブルワリー名とビアスタイルを最高優先度に変更
- キーワード重要度スコアリング機能を実装

### 改善
- より関連性の高い商品表示
- 検索結果の多様性向上
- カテゴリ重複回避アルゴリズム
- 段階的検索戦略の実装

## [1.6.0] - 2025-01-09

### 変更
- rihobeer.com実際のカラーパレットに完全対応
- 黄色と白を主体としたデザインに変更（#ffd900/#fcb900/#ffffff）
- テキスト可読性を最優先（#333333でコントラスト比4.5:1以上確保）

### 改善
- WCAGアクセシビリティガイドライン準拠
- プラットフォームバッジを緑/青系アクセント色に変更
- 商品カードを白/クリーム背景で統一
- 全てのボタンを黄色系に統一

### 技術
- CSS変数でカラーパレット管理
- コントラスト比分析レポート追加
- ダークモード・レスポンシブ対応維持

## [1.5.0] - 2025-01-09

### 変更
- rihobeer.comのデザインに最適化
- カラーパレットを統一（メイン色: #19448e、アクセント: #e60033/#e95295/#884898）
- タイポグラフィを改善（行間1.8、レスポンシブフォントサイズ）
- カードデザインをrihobeer.comスタイルに統一

### 改善
- レスポンシブデザインの最適化（モバイル13px/タブレット16px/デスクトップ16px）
- ボタンスタイルをサイトデザインに合わせて調整
- プラットフォームバッジの色分け（楽天:赤/Amazon:紫）
- ダークモード対応の改善

## [1.4.0] - 2025-01-09

### 追加
- 楽天→Amazon商品マッチング機能
- クロスプラットフォームショートコード [hoplink_cross]
- レスポンシブ広告レイアウト（PC4列/タブレット2列/スマホ1列）

### 変更
- 表示テキストを「関連する広告」に変更
- デフォルト表示数を4商品に変更（楽天2+Amazon2）
- 商品をランダムな順序でミックス表示

### 改善
- 広告らしいデザインに最適化（背景色、枠線、広告ラベル）
- CSS Grid によるレスポンシブ対応
- アニメーション効果の追加
- ダークモード対応

## [1.3.0] - 2025-01-09

### 追加
- Amazon URLからASINを自動抽出する機能
- 新しいショートコード [hoplink_url] を追加
- 記事保存時の自動アフィリエイトリンク変換
- 管理画面でのURL一括変換ツール
- Gutenbergブロックエディタ対応（Amazonリンクブロック）

### 改善
- 各種Amazon URLパターンに対応（通常URL、短縮URL、モバイルURL）
- 既存のアフィリエイトリンクを保護
- バッチ処理による大量記事の効率的な処理

### 技術仕様
- URLパーサークラスによる確実なASIN抽出
- REST APIエンドポイントの追加
- リアルタイムプレビュー機能

## [1.2.0] - 2025-01-09

### 追加
- API不要のAmazonリンク生成機能（Manual Mode）
- 新しいショートコード [hoplink_manual] を追加
- ASIN商品管理機能（管理画面）
- CSV一括インポート機能
- 動作モード切り替え（Manual/API/Hybrid）

### 改善
- PA-APIが使えない場合の代替機能として手動商品管理を実装
- 既存のAPIモードと併用可能なハイブリッドモード
- 商品データの永続的な保存

### ドキュメント
- Manual Mode使用ガイドを追加
- CSVサンプルファイルを追加

## [1.1.0] - 2025-01-09

### 追加
- 管理画面に商品検索テスト機能を追加
- Amazon PA-API v5のレート制限対策を実装
  - リクエスト間隔制御（最低1秒）
  - 強化されたキャッシュ機能（24時間）
  - 自動リトライ機能（指数バックオフ）
- 包括的診断ツールを追加
- 詳細なデバッグログ機能

### 修正
- Amazon PA-API v5の正確な設定に修正
  - リージョン: us-west-2
  - サービス名: ProductAdvertisingAPI
- TooManyRequestsエラーの解決
- 認証プロセスの改善

### 改善
- エラーメッセージの詳細化
- 管理画面のUI改善
- ドキュメントの充実

## [1.0.0] - 2025-01-08

### 初回リリース
- Amazon PA-API v5対応
- 楽天市場API対応
- ショートコード機能（[hoplink]、[hoplink_auto]）
- 自動キーワード抽出機能
- 管理画面でのAPI設定
- キャッシュ機能
- レスポンシブデザイン